{"is_source_file": true, "format": "bash", "description": "This file is a shell script that sets up and manages a PostgreSQL database server. It includes logic to check if the server is already running, initialize data directories, start the server, and set up database user permissions and schema privileges. It also generates connection info files and environment variable exports for subsequent use.", "external_files": ["/usr/lib/postgresql/*/bin/initdb", "/usr/lib/postgresql/*/bin/pg_isready", "/usr/lib/postgresql/*/bin/psql", "/usr/lib/postgresql/*/bin/createdb", "db_connection.txt", "db_visualizer/postgres.env"], "external_methods": ["ls", "sudo", "pgrep", "cat", "sleep"], "published": [], "classes": [], "methods": [], "calls": ["ls", "sudo -u postgres ${PG_BIN}/pg_isready", "sudo -u postgres ${PG_BIN}/psql", "sudo -u postgres ${PG_BIN}/initdb", "sudo -u postgres ${PG_BIN}/postgres", "sudo -u postgres ${PG_BIN}/createdb", "cat", "sleep", "pgrep -f", "sudo -u postgres ${PG_BIN}/psql -c", "echo", "cat >"], "search-terms": ["postgresql", "startup script", "database setup", "pg_isready", "postgres", "db_connection", "initialization", "permission setup"], "state": 2, "file_id": 5, "knowledge_revision": 13, "git_revision": "0586e5f3ec649b076552cf6d1b3416a39a9b7716", "hash": "fa2aa67ea0a7c72f7c0958282f15a864", "format-version": 4, "code-base-name": "resident_db", "filename": "resident_db/startup.sh", "revision_history": [{"13": "0586e5f3ec649b076552cf6d1b3416a39a9b7716"}]}